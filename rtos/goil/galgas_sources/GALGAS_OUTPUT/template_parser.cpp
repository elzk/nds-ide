//---------------------------------------------------------------------------*
//                                                                           *
//                        File 'template_parser.cpp'                         *
//                        Generated by version 2.0.0                         *
//                       july 7th, 2010, at 17h15'57"                        *
//                                                                           *
//---------------------------------------------------------------------------*

//--- START OF USER ZONE 1


//--- END OF USER ZONE 1

//---------------------------------------------------------------------------*

#include "version_libpm.h"
#if CURRENT_LIBPM_VERSION != 820
  #error "This file has been compiled with a version of GALGAS that uses libpm version 820, different than the current version (CURRENT_LIBPM_VERSION) of libpm"
#endif

//---------------------------------------------------------------------------*

#include <typeinfo>
#include "utilities/MF_MemoryControl.h"
#include "files/C_TextFileWrite.h"
#include "galgas/C_galgas_CLI_Options.h"
#include "template_parser.h"

//---------------------------------------------------------------------------*

#ifndef DO_NOT_GENERATE_CHECKINGS
  #define SOURCE_FILE_AT_LINE(line) "template_parser.gSyntax", line
  #define COMMA_SOURCE_FILE_AT_LINE(line) , SOURCE_FILE_AT_LINE(line)
#else
  #define SOURCE_FILE_AT_LINE(line) 
  #define COMMA_SOURCE_FILE_AT_LINE(line) 
#endif


//--- START OF USER ZONE 2


//--- END OF USER ZONE 2

//---------------------------------------------------------------------------*
//                                                                           *
//         Implementation of production rule 'template_instruction'          *
//                                                                           *
//---------------------------------------------------------------------------*

void template_parser::rule_template_5F_parser_template_5F_instruction_i0_ (C_Lexique_template_5F_scanner & inLexique,
                                const GGS_string var_cas_inPrefix,
                                const GGS_string var_cas_inPath,
                                const GGS_string var_cas_inTemplateDirectory,
                                GGS_goilTemplateVariableMap  &var_cas_ioTemplateVariableMap,
                                GGS_string &var_cas_ioResultingString) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken__21_) COMMA_HERE) ;
  GGS_goilTemplateValue var_cas_expression ;
  GGS_goilTemplateType var_cas_resultType ;
  nt_expression_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_ioTemplateVariableMap, var_cas_expression, var_cas_resultType) ;
  switch (var_cas_resultType.enumValue ()) {
  case GGS_goilTemplateType::enum_stringType:
    {
    var_cas_ioResultingString.dotAssign_operation (var_cas_expression.reader_mStringValue (inLexique COMMA_SOURCE_FILE_AT_LINE (93))) ;
    }
    break ;
  case GGS_goilTemplateType::enum_unsignedType:
    {
    var_cas_ioResultingString.dotAssign_operation (var_cas_expression.reader_mUnsigned64Value (inLexique COMMA_SOURCE_FILE_AT_LINE (95)).reader_string (inLexique COMMA_SOURCE_FILE_AT_LINE (95))) ;
    }
    break ;
  case GGS_goilTemplateType::enum_boolType:
    {
    const GGS_bool cond_3357 = (var_cas_expression.reader_mUnsigned64Value (inLexique COMMA_SOURCE_FILE_AT_LINE (97))).operator_isEqual (GGS_uint64 (0ULL)) ;
    if (cond_3357.isBuiltAndTrue ()) {
      var_cas_ioResultingString.appendCString ("false") ;
    }else if (cond_3357.isBuiltAndFalse ()) {
      var_cas_ioResultingString.appendCString ("true") ;
    }
    }
    break ;
  case GGS_goilTemplateType::enum_listType:
    {
    GGS_location (inLexique).reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, GGS_string ("a list expression cannot be emitted") COMMA_SOURCE_FILE_AT_LINE (104)) ;
    }
    break ;
  case GGS_goilTemplateType::enum_structType:
    {
    GGS_location (inLexique).reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, GGS_string ("a struct expression cannot be emitted") COMMA_SOURCE_FILE_AT_LINE (106)) ;
    }
    break ;
  case GGS_goilTemplateType::kNotBuilt:
    break ;
  }
}

//---------------------------------------------------------------------------*

void template_parser::rule_template_5F_parser_template_5F_instruction_i0_parse (C_Lexique_template_5F_scanner & inLexique) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken__21_) COMMA_HERE) ;
  nt_expression_parse (inLexique) ;
  GGS_lstring::constructor_retrieveAndResetTemplateString (inLexique COMMA_HERE) ;
}

//---------------------------------------------------------------------------*
//                                                                           *
//         Implementation of production rule 'template_instruction'          *
//                                                                           *
//---------------------------------------------------------------------------*

void template_parser::rule_template_5F_parser_template_5F_instruction_i1_ (C_Lexique_template_5F_scanner & inLexique,
                                const GGS_string var_cas_inPrefix,
                                const GGS_string var_cas_inPath,
                                const GGS_string var_cas_inTemplateDirectory,
                                GGS_goilTemplateVariableMap  &var_cas_ioTemplateVariableMap,
                                GGS_string &/* var_cas_ioResultingString */) {
  GGS_bool var_cas_fileNameOk = GGS_bool (true) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_write) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_to) COMMA_HERE) ;
  GGS_goilTemplateValue var_cas_expression ;
  GGS_goilTemplateType var_cas_expressionType ;
  GGS_goilTemplateVariableMap  var_cas_templateVariableMap = var_cas_ioTemplateVariableMap ;
  nt_expression_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_ioTemplateVariableMap, var_cas_expression, var_cas_expressionType) ;
  const GGS_bool cond_4366 = var_cas_templateVariableMap.reader_hasKey (GGS_string ("FILENAME")) ;
  if (cond_4366.isBuiltAndTrue ()) {
    GGS_goilTemplateType automatic_var_4359_0 ;
    GGS_goilTemplateValue automatic_var_4359_1 ;
    var_cas_templateVariableMap.modifier_removeKey (inLexique, function_lstringWith (inLexique, GGS_string ("FILENAME") COMMA_SOURCE_FILE_AT_LINE (133)), automatic_var_4359_0, automatic_var_4359_1 COMMA_SOURCE_FILE_AT_LINE (133)) ;
  }
  const GGS_bool cond_4498 = var_cas_templateVariableMap.reader_hasKey (GGS_string ("FILEPATH")) ;
  if (cond_4498.isBuiltAndTrue ()) {
    GGS_goilTemplateType automatic_var_4491_0 ;
    GGS_goilTemplateValue automatic_var_4491_1 ;
    var_cas_templateVariableMap.modifier_removeKey (inLexique, function_lstringWith (inLexique, GGS_string ("FILEPATH") COMMA_SOURCE_FILE_AT_LINE (136)), automatic_var_4491_0, automatic_var_4491_1 COMMA_SOURCE_FILE_AT_LINE (136)) ;
  }
  GGS_goilTemplateValue var_cas_fileName = function_valueWithString (inLexique, var_cas_expression.reader_mStringValue (inLexique COMMA_SOURCE_FILE_AT_LINE (138)).reader_lastPathComponent () COMMA_SOURCE_FILE_AT_LINE (138)) ;
  GGS_goilTemplateValue var_cas_nativeFilePath = function_valueWithString (inLexique, var_cas_expression.reader_mStringValue (inLexique COMMA_SOURCE_FILE_AT_LINE (139)).reader_nativePathWithUnixPath () COMMA_SOURCE_FILE_AT_LINE (139)) ;
  var_cas_templateVariableMap.modifier_insertKey (inLexique, function_lstringWith (inLexique, GGS_string ("FILENAME") COMMA_SOURCE_FILE_AT_LINE (140)), var_cas_expressionType, var_cas_fileName COMMA_SOURCE_FILE_AT_LINE (140)) ;
  var_cas_templateVariableMap.modifier_insertKey (inLexique, function_lstringWith (inLexique, GGS_string ("FILEPATH") COMMA_SOURCE_FILE_AT_LINE (141)), var_cas_expressionType, var_cas_nativeFilePath COMMA_SOURCE_FILE_AT_LINE (141)) ;
  GGS_location  var_cas_fileNameLocation = GGS_location (inLexique) ;
  const GGS_bool cond_5081 = (var_cas_expressionType).operator_isNotEqual (GGS_goilTemplateType::constructor_stringType (inLexique COMMA_SOURCE_FILE_AT_LINE (143))) ;
  if (cond_5081.isBuiltAndTrue ()) {
    GGS_location (inLexique).reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, GGS_string ("a file name should be of type string") COMMA_SOURCE_FILE_AT_LINE (145)) ;
    var_cas_fileNameOk = GGS_bool (false) ;
  }
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken__3A_) COMMA_HERE) ;
  GGS_string var_cas_writeBlockResult = GGS_string ("") ;
  nt_template_5F_instruction_5F_list_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_templateVariableMap, var_cas_writeBlockResult) ;
  const GGS_bool cond_5392 = (var_cas_fileNameOk).operator_and ((GGS_uint ::constructor_errorCount (inLexique COMMA_SOURCE_FILE_AT_LINE (156))).operator_isEqual (GGS_uint (0U))) ;
  if (cond_5392.isBuiltAndTrue ()) {
    if (var_cas_writeBlockResult.isBuilt ()) {
      var_cas_writeBlockResult (HERE)->method_makeDirectoryAndWriteToFile (inLexique, var_cas_expression.reader_mStringValue (inLexique COMMA_SOURCE_FILE_AT_LINE (157)) COMMA_SOURCE_FILE_AT_LINE (157)) ;
    }
  }
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_end) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_write) COMMA_HERE) ;
}

//---------------------------------------------------------------------------*

void template_parser::rule_template_5F_parser_template_5F_instruction_i1_parse (C_Lexique_template_5F_scanner & inLexique) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_write) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_to) COMMA_HERE) ;
  nt_expression_parse (inLexique) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken__3A_) COMMA_HERE) ;
  nt_template_5F_instruction_5F_list_parse (inLexique) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_end) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_write) COMMA_HERE) ;
  GGS_lstring::constructor_retrieveAndResetTemplateString (inLexique COMMA_HERE) ;
}

//---------------------------------------------------------------------------*
//                                                                           *
//         Implementation of production rule 'template_instruction'          *
//                                                                           *
//---------------------------------------------------------------------------*

void template_parser::rule_template_5F_parser_template_5F_instruction_i2_ (C_Lexique_template_5F_scanner & inLexique,
                                const GGS_string var_cas_inPrefix,
                                const GGS_string var_cas_inPath,
                                const GGS_string var_cas_inTemplateDirectory,
                                GGS_goilTemplateVariableMap  &var_cas_ioTemplateVariableMap,
                                GGS_string &var_cas_ioResultingString) {
  GGS_string var_cas_nextPrefix = var_cas_inPrefix ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_template) COMMA_HERE) ;
  switch (select_template_5F_parser_0 (inLexique)) {
    case 1 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_if) COMMA_HERE) ;
      inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_exists) COMMA_HERE) ;
      GGS_lstring  var_cas_templateName ;
      inLexique.assignFromAttribute_tokenString (var_cas_templateName) ;
      inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_identifier) COMMA_HERE) ;
      GGS_bool var_cas_found ;
      switch (select_template_5F_parser_1 (inLexique)) {
        case 1 : {
          inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_in) COMMA_HERE) ;
          GGS_lstring  var_cas_prefix ;
          inLexique.assignFromAttribute_tokenString (var_cas_prefix) ;
          inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_identifier) COMMA_HERE) ;
          var_cas_nextPrefix = function_fullPrefix (inLexique, var_cas_ioTemplateVariableMap, var_cas_prefix COMMA_SOURCE_FILE_AT_LINE (179)) ;
          } break ;
        case 2 : {
          } break ;
        default :
          break ;
      }
      ::routine_goilTemplateInvocation (inLexique,  var_cas_templateName,  var_cas_nextPrefix,  var_cas_inPath,  var_cas_inTemplateDirectory,  GGS_bool (false),  var_cas_ioTemplateVariableMap,  var_cas_ioResultingString,  var_cas_found COMMA_SOURCE_FILE_AT_LINE (182)) ;
      switch (select_template_5F_parser_2 (inLexique)) {
        case 1 : {
          inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_or) COMMA_HERE) ;
          if (((var_cas_found).operator_not ()).isBuiltAndTrue ()) {
            GGS_goilTemplateVariableMap  var_cas_templateVariableMap = GGS_goilTemplateVariableMap ::constructor_mapWithMapToOverride (inLexique, var_cas_ioTemplateVariableMap COMMA_SOURCE_FILE_AT_LINE (196)) ;
            nt_template_5F_instruction_5F_list_ (inLexique, var_cas_nextPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_templateVariableMap, var_cas_ioResultingString) ;
            var_cas_ioTemplateVariableMap = var_cas_templateVariableMap.reader_overriddenMap (inLexique COMMA_SOURCE_FILE_AT_LINE (204)) ;
          }else{
            nt_template_5F_instruction_5F_list_parse (inLexique) ;
          }
          inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_end) COMMA_HERE) ;
          inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_template) COMMA_HERE) ;
          } break ;
        case 2 : {
          } break ;
        default :
          break ;
      }
      } break ;
    case 2 : {
      GGS_lstring  var_cas_templateName ;
      inLexique.assignFromAttribute_tokenString (var_cas_templateName) ;
      inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_identifier) COMMA_HERE) ;
      switch (select_template_5F_parser_3 (inLexique)) {
        case 1 : {
          inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_in) COMMA_HERE) ;
          GGS_lstring  var_cas_prefix ;
          inLexique.assignFromAttribute_tokenString (var_cas_prefix) ;
          inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_identifier) COMMA_HERE) ;
          var_cas_nextPrefix = function_fullPrefix (inLexique, var_cas_ioTemplateVariableMap, var_cas_prefix COMMA_SOURCE_FILE_AT_LINE (215)) ;
          } break ;
        case 2 : {
          } break ;
        default :
          break ;
      }
      GGS_bool automatic_var_7071_0 ;
      ::routine_goilTemplateInvocation (inLexique,  var_cas_templateName,  var_cas_nextPrefix,  var_cas_inPath,  var_cas_inTemplateDirectory,  GGS_bool (true),  var_cas_ioTemplateVariableMap,  var_cas_ioResultingString,  automatic_var_7071_0 COMMA_SOURCE_FILE_AT_LINE (218)) ;
      } break ;
    default :
      break ;
  }
}

//---------------------------------------------------------------------------*

void template_parser::rule_template_5F_parser_template_5F_instruction_i2_parse (C_Lexique_template_5F_scanner & inLexique) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_template) COMMA_HERE) ;
  switch (select_template_5F_parser_0 (inLexique)) {
    case 1 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_if) COMMA_HERE) ;
      inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_exists) COMMA_HERE) ;
      inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_identifier) COMMA_HERE) ;
      switch (select_template_5F_parser_1 (inLexique)) {
        case 1 : {
          inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_in) COMMA_HERE) ;
          inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_identifier) COMMA_HERE) ;
          } break ;
        case 2 : {
          } break ;
        default :
          break ;
      }
      switch (select_template_5F_parser_2 (inLexique)) {
        case 1 : {
          inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_or) COMMA_HERE) ;
            nt_template_5F_instruction_5F_list_parse (inLexique) ;
          inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_end) COMMA_HERE) ;
          inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_template) COMMA_HERE) ;
          } break ;
        case 2 : {
          } break ;
        default :
          break ;
      }
      } break ;
    case 2 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_identifier) COMMA_HERE) ;
      switch (select_template_5F_parser_3 (inLexique)) {
        case 1 : {
          inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_in) COMMA_HERE) ;
          inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_identifier) COMMA_HERE) ;
          } break ;
        case 2 : {
          } break ;
        default :
          break ;
      }
      } break ;
    default :
      break ;
  }
  GGS_lstring::constructor_retrieveAndResetTemplateString (inLexique COMMA_HERE) ;
}

//---------------------------------------------------------------------------*
//                                                                           *
//         Implementation of production rule 'template_instruction'          *
//                                                                           *
//---------------------------------------------------------------------------*

void template_parser::rule_template_5F_parser_template_5F_instruction_i3_ (C_Lexique_template_5F_scanner & inLexique,
                                const GGS_string /* var_cas_inPrefix */,
                                const GGS_string /* var_cas_inPath */,
                                const GGS_string /* var_cas_inTemplateDirectory */,
                                GGS_goilTemplateVariableMap  &var_cas_ioTemplateVariableMap,
                                GGS_string &var_cas_ioResultingString) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken__3F_) COMMA_HERE) ;
  GGS_lstring  var_cas_columnConstantName ;
  inLexique.assignFromAttribute_tokenString (var_cas_columnConstantName) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_identifier) COMMA_HERE) ;
  GGS_string var_cas_value = GGS_string ("") ;
  GGS_bool var_cas_searchEndOfLine = GGS_bool (true) ;
  GGS_uint  var_cas_idx = var_cas_ioResultingString.reader_length () ;
  GGS_uint _variant_7764 = var_cas_ioResultingString.reader_length () ;
  GGS_bool _condition_7764 (_variant_7764.isBuilt (), true) ;
  while (_condition_7764.isBuiltAndTrue ()) {
    _condition_7764 = ((var_cas_idx).operator_strictSup (GGS_uint (0U))).operator_and (var_cas_searchEndOfLine) ;
    if (_condition_7764.isBuiltAndTrue ()) {
      if (_variant_7764.uintValue () == 0) {
        inLexique.onTheFlyRunTimeError ("loop variant error" COMMA_SOURCE_FILE_AT_LINE (253)) ;
        _condition_7764 = GGS_bool (false) ;
      }else{
        _variant_7764.decrement_operation (inLexique COMMA_HERE) ;
        var_cas_searchEndOfLine = (var_cas_ioResultingString.reader_characterAtIndex (inLexique, var_cas_idx.substract_operation (inLexique, GGS_uint (1U) COMMA_SOURCE_FILE_AT_LINE (248)) COMMA_SOURCE_FILE_AT_LINE (248))).operator_isNotEqual (GGS_char (TO_UNICODE ('\n'))) ;
        var_cas_idx.decrement_operation (inLexique COMMA_SOURCE_FILE_AT_LINE (249)) ;
        const GGS_bool cond_7754 = var_cas_searchEndOfLine ;
        if (cond_7754.isBuiltAndTrue ()) {
          var_cas_value.appendCString (" ") ;
        }
      }
    }
  }
  var_cas_ioTemplateVariableMap.modifier_insertKey (inLexique, var_cas_columnConstantName, GGS_goilTemplateType::constructor_stringType (inLexique COMMA_SOURCE_FILE_AT_LINE (256)), function_valueWithString (inLexique, var_cas_value COMMA_SOURCE_FILE_AT_LINE (257)) COMMA_SOURCE_FILE_AT_LINE (254)) ;
}

//---------------------------------------------------------------------------*

void template_parser::rule_template_5F_parser_template_5F_instruction_i3_parse (C_Lexique_template_5F_scanner & inLexique) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken__3F_) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_identifier) COMMA_HERE) ;
  GGS_lstring::constructor_retrieveAndResetTemplateString (inLexique COMMA_HERE) ;
}

//---------------------------------------------------------------------------*
//                                                                           *
//         Implementation of production rule 'template_instruction'          *
//                                                                           *
//---------------------------------------------------------------------------*

void template_parser::rule_template_5F_parser_template_5F_instruction_i4_ (C_Lexique_template_5F_scanner & inLexique,
                                const GGS_string var_cas_inPrefix,
                                const GGS_string var_cas_inPath,
                                const GGS_string var_cas_inTemplateDirectory,
                                GGS_goilTemplateVariableMap  &var_cas_ioTemplateVariableMap,
                                GGS_string &var_cas_ioResultingString) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_if) COMMA_HERE) ;
  GGS_bool var_cas_currentCondition = GGS_bool (false) ;
  { bool syntaxRepeat_4 = true ;
    while (syntaxRepeat_4) {
        if (((var_cas_currentCondition).operator_not ()).isBuiltAndTrue ()) {
          GGS_goilTemplateValue var_cas_expression ;
          GGS_goilTemplateType var_cas_expressionType ;
          nt_expression_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_ioTemplateVariableMap, var_cas_expression, var_cas_expressionType) ;
          const GGS_bool cond_9955 = (var_cas_expressionType).operator_isNotEqual (GGS_goilTemplateType::constructor_boolType (inLexique COMMA_SOURCE_FILE_AT_LINE (331))) ;
          if (cond_9955.isBuiltAndTrue ()) {
            GGS_location (inLexique).reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, GGS_string ("the operand of the 'not' operator should be boolean") COMMA_SOURCE_FILE_AT_LINE (333)) ;
          }
          var_cas_currentCondition = (var_cas_expression.reader_mUnsigned64Value (inLexique COMMA_SOURCE_FILE_AT_LINE (334))).operator_isEqual (GGS_uint64 (1ULL)) ;
          inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_then) COMMA_HERE) ;
          if ((var_cas_currentCondition).isBuiltAndTrue ()) {
            GGS_goilTemplateVariableMap  var_cas_templateVariableMap = GGS_goilTemplateVariableMap ::constructor_mapWithMapToOverride (inLexique, var_cas_ioTemplateVariableMap COMMA_SOURCE_FILE_AT_LINE (338)) ;
            nt_template_5F_instruction_5F_list_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_templateVariableMap, var_cas_ioResultingString) ;
            var_cas_ioTemplateVariableMap = var_cas_templateVariableMap.reader_overriddenMap (inLexique COMMA_SOURCE_FILE_AT_LINE (346)) ;
          }else{
            nt_template_5F_instruction_5F_list_parse (inLexique) ;
          }
        }else{
          nt_expression_parse (inLexique) ;
          inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_then) COMMA_HERE) ;
          nt_template_5F_instruction_5F_list_parse (inLexique) ;
        }
      switch (select_template_5F_parser_4 (inLexique)) {
        case 2 : {
          inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_elsif) COMMA_HERE) ;
          } break ;
        default :
          syntaxRepeat_4 = false ;
          break ;
      }
    }
  }
  switch (select_template_5F_parser_5 (inLexique)) {
    case 1 : {
      } break ;
    case 2 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_else) COMMA_HERE) ;
      if (((var_cas_currentCondition).operator_not ()).isBuiltAndTrue ()) {
        GGS_goilTemplateVariableMap  var_cas_templateVariableMap = GGS_goilTemplateVariableMap ::constructor_mapWithMapToOverride (inLexique, var_cas_ioTemplateVariableMap COMMA_SOURCE_FILE_AT_LINE (364)) ;
        nt_template_5F_instruction_5F_list_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_templateVariableMap, var_cas_ioResultingString) ;
        var_cas_ioTemplateVariableMap = var_cas_templateVariableMap.reader_overriddenMap (inLexique COMMA_SOURCE_FILE_AT_LINE (372)) ;
      }else{
        nt_template_5F_instruction_5F_list_parse (inLexique) ;
      }
      } break ;
    default :
      break ;
  }
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_end) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_if) COMMA_HERE) ;
}

//---------------------------------------------------------------------------*

void template_parser::rule_template_5F_parser_template_5F_instruction_i4_parse (C_Lexique_template_5F_scanner & inLexique) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_if) COMMA_HERE) ;
  { bool syntaxRepeat_4 = true ;
    while (syntaxRepeat_4) {
          nt_expression_parse (inLexique) ;
          inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_then) COMMA_HERE) ;
          nt_template_5F_instruction_5F_list_parse (inLexique) ;
      switch (select_template_5F_parser_4 (inLexique)) {
        case 2 : {
          inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_elsif) COMMA_HERE) ;
          } break ;
        default :
          syntaxRepeat_4 = false ;
          break ;
      }
    }
  }
  switch (select_template_5F_parser_5 (inLexique)) {
    case 1 : {
      } break ;
    case 2 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_else) COMMA_HERE) ;
        nt_template_5F_instruction_5F_list_parse (inLexique) ;
      } break ;
    default :
      break ;
  }
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_end) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_if) COMMA_HERE) ;
  GGS_lstring::constructor_retrieveAndResetTemplateString (inLexique COMMA_HERE) ;
}

//---------------------------------------------------------------------------*
//                                                                           *
//      Implementation of production rule 'template_instruction_list'        *
//                                                                           *
//---------------------------------------------------------------------------*

void template_parser::rule_template_5F_parser_template_5F_instruction_5F_list_i5_ (C_Lexique_template_5F_scanner & inLexique,
                                const GGS_string var_cas_inPrefix,
                                const GGS_string var_cas_inPath,
                                const GGS_string var_cas_inTemplateDirectory,
                                GGS_goilTemplateVariableMap  &var_cas_ioTemplateVariableMap,
                                GGS_string &var_cas_ioResultingString) {
  var_cas_ioResultingString.dotAssign_operation (GGS_string::constructor_retrieveAndResetTemplateString (inLexique COMMA_SOURCE_FILE_AT_LINE (391))) ;
  { bool syntaxRepeat_6 = true ;
    while (syntaxRepeat_6) {
      switch (select_template_5F_parser_6 (inLexique)) {
        case 2 : {
          nt_template_5F_instruction_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_ioTemplateVariableMap, var_cas_ioResultingString) ;
          var_cas_ioResultingString.dotAssign_operation (GGS_string::constructor_retrieveAndResetTemplateString (inLexique COMMA_SOURCE_FILE_AT_LINE (401))) ;
          } break ;
        default :
          syntaxRepeat_6 = false ;
          break ;
      }
    }
  }
}

//---------------------------------------------------------------------------*

void template_parser::rule_template_5F_parser_template_5F_instruction_5F_list_i5_parse (C_Lexique_template_5F_scanner & inLexique) {
  { bool syntaxRepeat_6 = true ;
    while (syntaxRepeat_6) {
      switch (select_template_5F_parser_6 (inLexique)) {
        case 2 : {
          nt_template_5F_instruction_parse (inLexique) ;
          } break ;
        default :
          syntaxRepeat_6 = false ;
          break ;
      }
    }
  }
  GGS_lstring::constructor_retrieveAndResetTemplateString (inLexique COMMA_HERE) ;
}

//---------------------------------------------------------------------------*
//                                                                           *
//      Implementation of production rule 'goil_template_start_symbol'       *
//                                                                           *
//---------------------------------------------------------------------------*

void template_parser::rule_template_5F_parser_goil_5F_template_5F_start_5F_symbol_i6_ (C_Lexique_template_5F_scanner & inLexique,
                                const GGS_string var_cas_inPrefix,
                                const GGS_string var_cas_inPath,
                                const GGS_string var_cas_inTemplateDirectory,
                                GGS_goilTemplateVariableMap  var_cas_inTemplateVariableMap,
                                GGS_string &var_cas_ioResultingString) {
  nt_template_5F_instruction_5F_list_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_inTemplateVariableMap, var_cas_ioResultingString) ;
}

//---------------------------------------------------------------------------*
//                                                                           *
//         Implementation of production rule 'template_instruction'          *
//                                                                           *
//---------------------------------------------------------------------------*

void template_parser::rule_template_5F_parser_template_5F_instruction_i7_ (C_Lexique_template_5F_scanner & inLexique,
                                const GGS_string var_cas_inPrefix,
                                const GGS_string var_cas_inPath,
                                const GGS_string var_cas_inTemplateDirectory,
                                GGS_goilTemplateVariableMap  &var_cas_ioTemplateVariableMap,
                                GGS_string &var_cas_ioResultingString) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_foreach) COMMA_HERE) ;
  GGS_uint  var_cas_shortestListLentgh = GGS_uint ::constructor_max (inLexique COMMA_SOURCE_FILE_AT_LINE (433)) ;
  GGS_goilTemplateEnumationList  var_cas_enumerationList = GGS_goilTemplateEnumationList ::constructor_emptyList () ;
  { bool syntaxRepeat_7 = true ;
    while (syntaxRepeat_7) {
        GGS_goilTemplateValue var_cas_enumeratedValue ;
        GGS_goilTemplateType var_cas_expressionType ;
        nt_expression_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_ioTemplateVariableMap, var_cas_enumeratedValue, var_cas_expressionType) ;
        const GGS_bool cond_12917 = (var_cas_expressionType).operator_isNotEqual (GGS_goilTemplateType::constructor_listType (inLexique COMMA_SOURCE_FILE_AT_LINE (448))) ;
        if (cond_12917.isBuiltAndTrue ()) {
          GGS_location (inLexique).reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, GGS_string ("only a list can be enumerated") COMMA_SOURCE_FILE_AT_LINE (450)) ;
        }else if (cond_12917.isBuiltAndFalse ()) {
          const GGS_bool cond_13063 = (var_cas_shortestListLentgh).operator_strictSup (var_cas_enumeratedValue.reader_mMapListValue (inLexique COMMA_SOURCE_FILE_AT_LINE (450)).reader_length ()) ;
          if (cond_13063.isBuiltAndTrue ()) {
            var_cas_shortestListLentgh = var_cas_enumeratedValue.reader_mMapListValue (inLexique COMMA_SOURCE_FILE_AT_LINE (451)).reader_length () ;
          }
        }
        GGS_string var_cas_foreachPrefix ;
        switch (select_template_5F_parser_8 (inLexique)) {
          case 1 : {
            var_cas_foreachPrefix = GGS_string ("") ;
            } break ;
          case 2 : {
            inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_prefixedby) COMMA_HERE) ;
            GGS_lstring  var_cas_prefixString ;
            inLexique.assignFromAttribute_tokenString (var_cas_prefixString) ;
            inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_identifier) COMMA_HERE) ;
            var_cas_foreachPrefix = var_cas_prefixString.reader_string (inLexique COMMA_SOURCE_FILE_AT_LINE (459)) ;
            } break ;
          default :
            break ;
        }
        var_cas_enumerationList.addAssign_operation (var_cas_enumeratedValue, var_cas_foreachPrefix) ;
      switch (select_template_5F_parser_7 (inLexique)) {
        case 2 : {
          inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken__2C_) COMMA_HERE) ;
          } break ;
        default :
          syntaxRepeat_7 = false ;
          break ;
      }
    }
  }
  switch (select_template_5F_parser_9 (inLexique)) {
    case 1 : {
      } break ;
    case 2 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_before) COMMA_HERE) ;
      if (((var_cas_shortestListLentgh).operator_strictSup (GGS_uint (0U))).isBuiltAndTrue ()) {
        nt_template_5F_instruction_5F_list_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_ioTemplateVariableMap, var_cas_ioResultingString) ;
      }else{
        nt_template_5F_instruction_5F_list_parse (inLexique) ;
      }
      } break ;
    default :
      break ;
  }
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_do) COMMA_HERE) ;
  GGS_uint  var_cas_idx = GGS_uint (0U) ;
  GGS_uint _variant_15358 = var_cas_shortestListLentgh ;
  const C_parsingContext context_15358 = inLexique.parsingContext () ;
  nt_template_5F_instruction_5F_list_parse (inLexique) ;
  switch (select_template_5F_parser_10 (inLexique)) {
    case 1 : {
      } break ;
    case 2 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_between) COMMA_HERE) ;
        nt_template_5F_instruction_5F_list_parse (inLexique) ;
      } break ;
    default :
      break ;
  }
  GGS_bool _condition_15358 ;
  if (_variant_15358.isBuilt ()) {
    _condition_15358 = (var_cas_idx).operator_strictInf (var_cas_shortestListLentgh) ;
  }
  while (_condition_15358.isBuiltAndTrue ()) {
    inLexique.setParsingContext (context_15358) ;
    if (_variant_15358.uintValue () == 0) {
      inLexique.onTheFlyRunTimeError ("loop variant error" COMMA_SOURCE_FILE_AT_LINE (533)) ;
      _condition_15358 = GGS_bool (false) ;
    }else{
      _variant_15358.decrement_operation (inLexique COMMA_HERE) ;
      GGS_goilTemplateVariableMap  var_cas_templateVariableMap = GGS_goilTemplateVariableMap ::constructor_mapWithMapToOverride (inLexique, var_cas_ioTemplateVariableMap COMMA_SOURCE_FILE_AT_LINE (487)) ;
      {
        GGS_goilTemplateEnumationList::cEnumerator enumerator_13918 (var_cas_enumerationList, true) ;
        const GGS_goilTemplateEnumationList::cElement * operand_13918 = NULL ;
        while (((operand_13918 = enumerator_13918.nextObject ()))) {
          macroValidPointer (operand_13918) ;
          const GGS_goilTemplateFieldMap  var_cas_fieldMap = operand_13918->mEnumeratedValue.reader_mMapListValue (inLexique COMMA_SOURCE_FILE_AT_LINE (489)).reader_mMapAtIndex (inLexique, var_cas_idx COMMA_SOURCE_FILE_AT_LINE (489)) ;
          {
            GGS_goilTemplateFieldMap::cEnumerator enumerator_14043 (var_cas_fieldMap, true) ;
            const GGS_goilTemplateFieldMap::cElement * operand_14043 = NULL ;
            while (((operand_14043 = enumerator_14043.nextObject ()))) {
              macroValidPointer (operand_14043) ;
              GGS_lstring  var_cas_varName = GGS_lstring ::constructor_new (inLexique, (operand_13918->mPrefix).operator_concat (operand_14043->mKey.reader_string (inLexique COMMA_SOURCE_FILE_AT_LINE (491))), operand_14043->mKey.reader_location (inLexique COMMA_SOURCE_FILE_AT_LINE (491)) COMMA_SOURCE_FILE_AT_LINE (491)) ;
              var_cas_templateVariableMap.modifier_insertKey (inLexique, GGS_lstring ::constructor_new (inLexique, (operand_13918->mPrefix).operator_concat (operand_14043->mKey.reader_string (inLexique COMMA_SOURCE_FILE_AT_LINE (496))), operand_14043->mKey.reader_location (inLexique COMMA_SOURCE_FILE_AT_LINE (496)) COMMA_SOURCE_FILE_AT_LINE (496)), operand_14043->mInfo.mType, GGS_goilTemplateValue::constructor_new (operand_14043->mInfo.mUnsigned64Value, operand_14043->mInfo.mStringValue, operand_14043->mInfo.mListValue, operand_14043->mInfo.mStructValue) COMMA_SOURCE_FILE_AT_LINE (495)) ;
            }
          }
        }
      }
      ::routine_addUnsignedValue (inLexique,  var_cas_templateVariableMap,  GGS_lstring ::constructor_new (inLexique, GGS_string ("INDEX"), GGS_location (inLexique) COMMA_SOURCE_FILE_AT_LINE (506)),  var_cas_idx.reader_uint64 (inLexique COMMA_SOURCE_FILE_AT_LINE (506)) COMMA_SOURCE_FILE_AT_LINE (506)) ;
      nt_template_5F_instruction_5F_list_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_templateVariableMap, var_cas_ioResultingString) ;
      var_cas_idx.increment_operation (inLexique COMMA_SOURCE_FILE_AT_LINE (515)) ;
      switch (select_template_5F_parser_10 (inLexique)) {
        case 1 : {
          } break ;
        case 2 : {
          inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_between) COMMA_HERE) ;
          if (((var_cas_idx).operator_strictInf (var_cas_shortestListLentgh)).isBuiltAndTrue ()) {
            nt_template_5F_instruction_5F_list_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_templateVariableMap, var_cas_ioResultingString) ;
          }else{
            nt_template_5F_instruction_5F_list_parse (inLexique) ;
          }
          } break ;
        default :
          break ;
      }
      var_cas_ioTemplateVariableMap = var_cas_templateVariableMap.reader_overriddenMap (inLexique COMMA_SOURCE_FILE_AT_LINE (532)) ;
      _condition_15358 = (var_cas_idx).operator_strictInf (var_cas_shortestListLentgh) ;
    }
  }
  GGS_string var_cas_s = GGS_string::constructor_retrieveAndResetTemplateString (inLexique COMMA_SOURCE_FILE_AT_LINE (534)) ;
  switch (select_template_5F_parser_11 (inLexique)) {
    case 1 : {
      } break ;
    case 2 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_after) COMMA_HERE) ;
      if (((var_cas_shortestListLentgh).operator_strictSup (GGS_uint (0U))).isBuiltAndTrue ()) {
        nt_template_5F_instruction_5F_list_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_ioTemplateVariableMap, var_cas_ioResultingString) ;
      }else{
        nt_template_5F_instruction_5F_list_parse (inLexique) ;
      }
      } break ;
    default :
      break ;
  }
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_end) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_foreach) COMMA_HERE) ;
}

//---------------------------------------------------------------------------*

void template_parser::rule_template_5F_parser_template_5F_instruction_i7_parse (C_Lexique_template_5F_scanner & inLexique) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_foreach) COMMA_HERE) ;
  { bool syntaxRepeat_7 = true ;
    while (syntaxRepeat_7) {
        nt_expression_parse (inLexique) ;
        switch (select_template_5F_parser_8 (inLexique)) {
          case 1 : {
            } break ;
          case 2 : {
            inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_prefixedby) COMMA_HERE) ;
            inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_identifier) COMMA_HERE) ;
            } break ;
          default :
            break ;
        }
      switch (select_template_5F_parser_7 (inLexique)) {
        case 2 : {
          inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken__2C_) COMMA_HERE) ;
          } break ;
        default :
          syntaxRepeat_7 = false ;
          break ;
      }
    }
  }
  switch (select_template_5F_parser_9 (inLexique)) {
    case 1 : {
      } break ;
    case 2 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_before) COMMA_HERE) ;
        nt_template_5F_instruction_5F_list_parse (inLexique) ;
      } break ;
    default :
      break ;
  }
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_do) COMMA_HERE) ;
    nt_template_5F_instruction_5F_list_parse (inLexique) ;
    switch (select_template_5F_parser_10 (inLexique)) {
      case 1 : {
        } break ;
      case 2 : {
        inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_between) COMMA_HERE) ;
          nt_template_5F_instruction_5F_list_parse (inLexique) ;
        } break ;
      default :
        break ;
    }
  switch (select_template_5F_parser_11 (inLexique)) {
    case 1 : {
      } break ;
    case 2 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_after) COMMA_HERE) ;
        nt_template_5F_instruction_5F_list_parse (inLexique) ;
      } break ;
    default :
      break ;
  }
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_end) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_foreach) COMMA_HERE) ;
  GGS_lstring::constructor_retrieveAndResetTemplateString (inLexique COMMA_HERE) ;
}

//---------------------------------------------------------------------------*
//                                                                           *
//         Implementation of production rule 'template_instruction'          *
//                                                                           *
//---------------------------------------------------------------------------*

void template_parser::rule_template_5F_parser_template_5F_instruction_i8_ (C_Lexique_template_5F_scanner & inLexique,
                                const GGS_string var_cas_inPrefix,
                                const GGS_string var_cas_inPath,
                                const GGS_string var_cas_inTemplateDirectory,
                                GGS_goilTemplateVariableMap  &var_cas_ioTemplateVariableMap,
                                GGS_string &var_cas_ioResultingString) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_for) COMMA_HERE) ;
  GGS_lstring  var_cas_variableName ;
  inLexique.assignFromAttribute_tokenString (var_cas_variableName) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_identifier) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_in) COMMA_HERE) ;
  GGS_goilTemplateExpressionList  var_cas_enumerationList = GGS_goilTemplateExpressionList ::constructor_emptyList () ;
  { bool syntaxRepeat_12 = true ;
    while (syntaxRepeat_12) {
        GGS_goilTemplateValue var_cas_enumeratedValue ;
        GGS_goilTemplateType var_cas_expressionType ;
        nt_expression_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_ioTemplateVariableMap, var_cas_enumeratedValue, var_cas_expressionType) ;
        const GGS_bool cond_16819 = (((var_cas_expressionType).operator_isNotEqual (GGS_goilTemplateType::constructor_boolType (inLexique COMMA_SOURCE_FILE_AT_LINE (583)))).operator_and ((var_cas_expressionType).operator_isNotEqual (GGS_goilTemplateType::constructor_unsignedType (inLexique COMMA_SOURCE_FILE_AT_LINE (584))))).operator_and ((var_cas_expressionType).operator_isNotEqual (GGS_goilTemplateType::constructor_stringType (inLexique COMMA_SOURCE_FILE_AT_LINE (585)))) ;
        if (cond_16819.isBuiltAndTrue ()) {
          GGS_location (inLexique).reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, GGS_string ("only a bool, integer or string can be enumerated") COMMA_SOURCE_FILE_AT_LINE (587)) ;
        }
        var_cas_enumerationList.addAssign_operation (var_cas_enumeratedValue, var_cas_expressionType) ;
      switch (select_template_5F_parser_12 (inLexique)) {
        case 2 : {
          inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken__2C_) COMMA_HERE) ;
          } break ;
        default :
          syntaxRepeat_12 = false ;
          break ;
      }
    }
  }
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_do) COMMA_HERE) ;
  GGS_uint  var_cas_idx = GGS_uint (0U) ;
  GGS_uint _variant_18147 = var_cas_enumerationList.reader_length () ;
  const C_parsingContext context_18147 = inLexique.parsingContext () ;
  nt_template_5F_instruction_5F_list_parse (inLexique) ;
  switch (select_template_5F_parser_13 (inLexique)) {
    case 1 : {
      } break ;
    case 2 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_between) COMMA_HERE) ;
        nt_template_5F_instruction_5F_list_parse (inLexique) ;
      } break ;
    default :
      break ;
  }
  GGS_bool _condition_18147 ;
  if (_variant_18147.isBuilt ()) {
    _condition_18147 = (var_cas_enumerationList.reader_length ()).operator_strictSup (GGS_uint (0U)) ;
  }
  while (_condition_18147.isBuiltAndTrue ()) {
    inLexique.setParsingContext (context_18147) ;
    if (_variant_18147.uintValue () == 0) {
      inLexique.onTheFlyRunTimeError ("loop variant error" COMMA_SOURCE_FILE_AT_LINE (636)) ;
      _condition_18147 = GGS_bool (false) ;
    }else{
      _variant_18147.decrement_operation (inLexique COMMA_HERE) ;
      GGS_goilTemplateVariableMap  var_cas_templateVariableMap = GGS_goilTemplateVariableMap ::constructor_mapWithMapToOverride (inLexique, var_cas_ioTemplateVariableMap COMMA_SOURCE_FILE_AT_LINE (597)) ;
      GGS_goilTemplateValue var_cas_value ;
      GGS_goilTemplateType var_cas_type ;
      var_cas_enumerationList.modifier_popFirst (inLexique, var_cas_value, var_cas_type COMMA_SOURCE_FILE_AT_LINE (600)) ;
      var_cas_templateVariableMap.modifier_insertKey (inLexique, var_cas_variableName, var_cas_type, var_cas_value COMMA_SOURCE_FILE_AT_LINE (601)) ;
      ::routine_addUnsignedValue (inLexique,  var_cas_templateVariableMap,  GGS_lstring ::constructor_new (inLexique, GGS_string ("INDEX"), GGS_location (inLexique) COMMA_SOURCE_FILE_AT_LINE (609)),  var_cas_idx.reader_uint64 (inLexique COMMA_SOURCE_FILE_AT_LINE (609)) COMMA_SOURCE_FILE_AT_LINE (609)) ;
      nt_template_5F_instruction_5F_list_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_templateVariableMap, var_cas_ioResultingString) ;
      var_cas_idx.increment_operation (inLexique COMMA_SOURCE_FILE_AT_LINE (618)) ;
      switch (select_template_5F_parser_13 (inLexique)) {
        case 1 : {
          } break ;
        case 2 : {
          inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_between) COMMA_HERE) ;
          if (((var_cas_enumerationList.reader_length ()).operator_strictSup (GGS_uint (0U))).isBuiltAndTrue ()) {
            nt_template_5F_instruction_5F_list_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_templateVariableMap, var_cas_ioResultingString) ;
          }else{
            nt_template_5F_instruction_5F_list_parse (inLexique) ;
          }
          } break ;
        default :
          break ;
      }
      var_cas_ioTemplateVariableMap = var_cas_templateVariableMap.reader_overriddenMap (inLexique COMMA_SOURCE_FILE_AT_LINE (635)) ;
      _condition_18147 = (var_cas_enumerationList.reader_length ()).operator_strictSup (GGS_uint (0U)) ;
    }
  }
  GGS_string var_cas_s = GGS_string::constructor_retrieveAndResetTemplateString (inLexique COMMA_SOURCE_FILE_AT_LINE (637)) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_end) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_for) COMMA_HERE) ;
}

//---------------------------------------------------------------------------*

void template_parser::rule_template_5F_parser_template_5F_instruction_i8_parse (C_Lexique_template_5F_scanner & inLexique) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_for) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_identifier) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_in) COMMA_HERE) ;
  { bool syntaxRepeat_12 = true ;
    while (syntaxRepeat_12) {
        nt_expression_parse (inLexique) ;
      switch (select_template_5F_parser_12 (inLexique)) {
        case 2 : {
          inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken__2C_) COMMA_HERE) ;
          } break ;
        default :
          syntaxRepeat_12 = false ;
          break ;
      }
    }
  }
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_do) COMMA_HERE) ;
    nt_template_5F_instruction_5F_list_parse (inLexique) ;
    switch (select_template_5F_parser_13 (inLexique)) {
      case 1 : {
        } break ;
      case 2 : {
        inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_between) COMMA_HERE) ;
          nt_template_5F_instruction_5F_list_parse (inLexique) ;
        } break ;
      default :
        break ;
    }
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_end) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_for) COMMA_HERE) ;
  GGS_lstring::constructor_retrieveAndResetTemplateString (inLexique COMMA_HERE) ;
}

//---------------------------------------------------------------------------*
//                                                                           *
//         Implementation of production rule 'template_instruction'          *
//                                                                           *
//---------------------------------------------------------------------------*

void template_parser::rule_template_5F_parser_template_5F_instruction_i9_ (C_Lexique_template_5F_scanner & inLexique,
                                const GGS_string var_cas_inPrefix,
                                const GGS_string var_cas_inPath,
                                const GGS_string var_cas_inTemplateDirectory,
                                GGS_goilTemplateVariableMap  &var_cas_ioTemplateVariableMap,
                                GGS_string &var_cas_ioResultingString) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_loop) COMMA_HERE) ;
  GGS_lstring  var_cas_variableName ;
  inLexique.assignFromAttribute_tokenString (var_cas_variableName) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_identifier) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_from) COMMA_HERE) ;
  GGS_goilTemplateValue var_cas_startValue ;
  GGS_goilTemplateType var_cas_startType ;
  nt_expression_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_ioTemplateVariableMap, var_cas_startValue, var_cas_startType) ;
  const GGS_bool cond_18892 = (var_cas_startType).operator_isNotEqual (GGS_goilTemplateType::constructor_unsignedType (inLexique COMMA_SOURCE_FILE_AT_LINE (664))) ;
  if (cond_18892.isBuiltAndTrue ()) {
    GGS_location (inLexique).reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, GGS_string ("loop start value should be an integer") COMMA_SOURCE_FILE_AT_LINE (666)) ;
  }
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_to) COMMA_HERE) ;
  GGS_goilTemplateValue var_cas_endValue ;
  GGS_goilTemplateType var_cas_endType ;
  nt_expression_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_ioTemplateVariableMap, var_cas_endValue, var_cas_endType) ;
  const GGS_bool cond_19202 = (var_cas_endType).operator_isNotEqual (GGS_goilTemplateType::constructor_unsignedType (inLexique COMMA_SOURCE_FILE_AT_LINE (678))) ;
  if (cond_19202.isBuiltAndTrue ()) {
    GGS_location (inLexique).reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, GGS_string ("loop end value should be an integer") COMMA_SOURCE_FILE_AT_LINE (680)) ;
  }
  switch (select_template_5F_parser_14 (inLexique)) {
    case 1 : {
      } break ;
    case 2 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_before) COMMA_HERE) ;
      if (((var_cas_endValue.reader_mUnsigned64Value (inLexique COMMA_SOURCE_FILE_AT_LINE (686))).operator_supOrEqual (var_cas_startValue.reader_mUnsigned64Value (inLexique COMMA_SOURCE_FILE_AT_LINE (686)))).isBuiltAndTrue ()) {
        nt_template_5F_instruction_5F_list_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_ioTemplateVariableMap, var_cas_ioResultingString) ;
      }else{
        nt_template_5F_instruction_5F_list_parse (inLexique) ;
      }
      } break ;
    default :
      break ;
  }
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_do) COMMA_HERE) ;
  GGS_uint  var_cas_start = var_cas_startValue.reader_mUnsigned64Value (inLexique COMMA_SOURCE_FILE_AT_LINE (700)).reader_uint (inLexique COMMA_SOURCE_FILE_AT_LINE (700)) ;
  GGS_uint  var_cas_stop = var_cas_endValue.reader_mUnsigned64Value (inLexique COMMA_SOURCE_FILE_AT_LINE (701)).reader_uint (inLexique COMMA_SOURCE_FILE_AT_LINE (701)) ;
  GGS_uint  var_cas_idx = var_cas_start ;
  GGS_uint _variant_20661 = var_cas_stop.substract_operation (inLexique, var_cas_start COMMA_SOURCE_FILE_AT_LINE (703)).add_operation (inLexique, GGS_uint (1U) COMMA_SOURCE_FILE_AT_LINE (703)) ;
  const C_parsingContext context_20661 = inLexique.parsingContext () ;
  nt_template_5F_instruction_5F_list_parse (inLexique) ;
  switch (select_template_5F_parser_15 (inLexique)) {
    case 1 : {
      } break ;
    case 2 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_between) COMMA_HERE) ;
        nt_template_5F_instruction_5F_list_parse (inLexique) ;
      } break ;
    default :
      break ;
  }
  GGS_bool _condition_20661 ;
  if (_variant_20661.isBuilt ()) {
    _condition_20661 = (var_cas_idx).operator_infOrEqual (var_cas_stop) ;
  }
  while (_condition_20661.isBuiltAndTrue ()) {
    inLexique.setParsingContext (context_20661) ;
    if (_variant_20661.uintValue () == 0) {
      inLexique.onTheFlyRunTimeError ("loop variant error" COMMA_SOURCE_FILE_AT_LINE (736)) ;
      _condition_20661 = GGS_bool (false) ;
    }else{
      _variant_20661.decrement_operation (inLexique COMMA_HERE) ;
      GGS_goilTemplateVariableMap  var_cas_templateVariableMap = GGS_goilTemplateVariableMap ::constructor_mapWithMapToOverride (inLexique, var_cas_ioTemplateVariableMap COMMA_SOURCE_FILE_AT_LINE (705)) ;
      ::routine_addUnsignedValue (inLexique,  var_cas_templateVariableMap,  var_cas_variableName,  var_cas_idx.reader_uint64 (inLexique COMMA_SOURCE_FILE_AT_LINE (709)) COMMA_SOURCE_FILE_AT_LINE (709)) ;
      nt_template_5F_instruction_5F_list_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_templateVariableMap, var_cas_ioResultingString) ;
      var_cas_idx.increment_operation (inLexique COMMA_SOURCE_FILE_AT_LINE (718)) ;
      switch (select_template_5F_parser_15 (inLexique)) {
        case 1 : {
          } break ;
        case 2 : {
          inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_between) COMMA_HERE) ;
          if (((var_cas_idx).operator_infOrEqual (var_cas_stop)).isBuiltAndTrue ()) {
            nt_template_5F_instruction_5F_list_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_templateVariableMap, var_cas_ioResultingString) ;
          }else{
            nt_template_5F_instruction_5F_list_parse (inLexique) ;
          }
          } break ;
        default :
          break ;
      }
      var_cas_ioTemplateVariableMap = var_cas_templateVariableMap.reader_overriddenMap (inLexique COMMA_SOURCE_FILE_AT_LINE (735)) ;
      _condition_20661 = (var_cas_idx).operator_infOrEqual (var_cas_stop) ;
    }
  }
  GGS_string var_cas_s = GGS_string::constructor_retrieveAndResetTemplateString (inLexique COMMA_SOURCE_FILE_AT_LINE (737)) ;
  switch (select_template_5F_parser_16 (inLexique)) {
    case 1 : {
      } break ;
    case 2 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_after) COMMA_HERE) ;
      if (((var_cas_stop).operator_supOrEqual (var_cas_start)).isBuiltAndTrue ()) {
        nt_template_5F_instruction_5F_list_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_ioTemplateVariableMap, var_cas_ioResultingString) ;
      }else{
        nt_template_5F_instruction_5F_list_parse (inLexique) ;
      }
      } break ;
    default :
      break ;
  }
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_end) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_loop) COMMA_HERE) ;
}

//---------------------------------------------------------------------------*

void template_parser::rule_template_5F_parser_template_5F_instruction_i9_parse (C_Lexique_template_5F_scanner & inLexique) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_loop) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_identifier) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_from) COMMA_HERE) ;
  nt_expression_parse (inLexique) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_to) COMMA_HERE) ;
  nt_expression_parse (inLexique) ;
  switch (select_template_5F_parser_14 (inLexique)) {
    case 1 : {
      } break ;
    case 2 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_before) COMMA_HERE) ;
        nt_template_5F_instruction_5F_list_parse (inLexique) ;
      } break ;
    default :
      break ;
  }
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_do) COMMA_HERE) ;
    nt_template_5F_instruction_5F_list_parse (inLexique) ;
    switch (select_template_5F_parser_15 (inLexique)) {
      case 1 : {
        } break ;
      case 2 : {
        inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_between) COMMA_HERE) ;
          nt_template_5F_instruction_5F_list_parse (inLexique) ;
        } break ;
      default :
        break ;
    }
  switch (select_template_5F_parser_16 (inLexique)) {
    case 1 : {
      } break ;
    case 2 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_after) COMMA_HERE) ;
        nt_template_5F_instruction_5F_list_parse (inLexique) ;
      } break ;
    default :
      break ;
  }
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_end) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_loop) COMMA_HERE) ;
  GGS_lstring::constructor_retrieveAndResetTemplateString (inLexique COMMA_HERE) ;
}

//---------------------------------------------------------------------------*
//                                                                           *
//         Implementation of production rule 'template_instruction'          *
//                                                                           *
//---------------------------------------------------------------------------*

void template_parser::rule_template_5F_parser_template_5F_instruction_i10_ (C_Lexique_template_5F_scanner & inLexique,
                                const GGS_string var_cas_inPrefix,
                                const GGS_string var_cas_inPath,
                                const GGS_string var_cas_inTemplateDirectory,
                                GGS_goilTemplateVariableMap  &var_cas_ioTemplateVariableMap,
                                GGS_string &/* var_cas_ioResultingString */) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_let) COMMA_HERE) ;
  GGS_lstring  var_cas_variableName ;
  inLexique.assignFromAttribute_tokenString (var_cas_variableName) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_identifier) COMMA_HERE) ;
  GGS_goilTemplateValue var_cas_enumeratedValue ;
  GGS_goilTemplateType var_cas_expressionType ;
  switch (select_template_5F_parser_17 (inLexique)) {
    case 1 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken__3A__3D_) COMMA_HERE) ;
      nt_expression_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_ioTemplateVariableMap, var_cas_enumeratedValue, var_cas_expressionType) ;
      const GGS_bool cond_21913 = var_cas_ioTemplateVariableMap.reader_hasKey (var_cas_variableName.reader_string (inLexique COMMA_SOURCE_FILE_AT_LINE (782))) ;
      if (cond_21913.isBuiltAndTrue ()) {
        var_cas_ioTemplateVariableMap.modifier_setMTypeForKey (inLexique, var_cas_expressionType, var_cas_variableName.reader_string (inLexique COMMA_SOURCE_FILE_AT_LINE (783)) COMMA_SOURCE_FILE_AT_LINE (783)) ;
        var_cas_ioTemplateVariableMap.modifier_setMValueForKey (inLexique, var_cas_enumeratedValue, var_cas_variableName.reader_string (inLexique COMMA_SOURCE_FILE_AT_LINE (784)) COMMA_SOURCE_FILE_AT_LINE (784)) ;
      }else if (cond_21913.isBuiltAndFalse ()) {
        var_cas_ioTemplateVariableMap.modifier_insertKey (inLexique, var_cas_variableName, var_cas_expressionType, var_cas_enumeratedValue COMMA_SOURCE_FILE_AT_LINE (786)) ;
      }
      } break ;
    case 2 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken__2B__3D_) COMMA_HERE) ;
      nt_expression_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_ioTemplateVariableMap, var_cas_enumeratedValue, var_cas_expressionType) ;
      const GGS_bool cond_22296 = (var_cas_expressionType).operator_isNotEqual (GGS_goilTemplateType::constructor_stringType (inLexique COMMA_SOURCE_FILE_AT_LINE (798))) ;
      if (cond_22296.isBuiltAndTrue ()) {
        GGS_location (inLexique).reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, GGS_string ("string type expected") COMMA_SOURCE_FILE_AT_LINE (800)) ;
      }else if (cond_22296.isBuiltAndFalse ()) {
        GGS_goilTemplateValue var_cas_variableValue ;
        GGS_goilTemplateType var_cas_variableType ;
        if (var_cas_ioTemplateVariableMap.isBuilt ()) {
          var_cas_ioTemplateVariableMap (HERE)->method_searchKey (inLexique, var_cas_variableName, var_cas_variableType, var_cas_variableValue COMMA_SOURCE_FILE_AT_LINE (803)) ;
        }
        const GGS_bool cond_22578 = (var_cas_variableType).operator_isNotEqual (GGS_goilTemplateType::constructor_listType (inLexique COMMA_SOURCE_FILE_AT_LINE (804))) ;
        if (cond_22578.isBuiltAndTrue ()) {
          var_cas_variableName.reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, GGS_string ("list type expected") COMMA_SOURCE_FILE_AT_LINE (806)) ;
        }else if (cond_22578.isBuiltAndFalse ()) {
          GGS_goilTemplateFieldMap  var_cas_fieldMap = GGS_goilTemplateFieldMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (807)) ;
          var_cas_fieldMap.modifier_insertKey (inLexique, GGS_lstring ::constructor_new (inLexique, GGS_string ("NAME"), GGS_location (inLexique) COMMA_SOURCE_FILE_AT_LINE (808)), var_cas_expressionType, GGS_uint64 (0ULL), var_cas_enumeratedValue.reader_mStringValue (inLexique COMMA_SOURCE_FILE_AT_LINE (808)), GGS_goilTemplateFieldMapList ::constructor_emptyList (), GGS_goilTemplateFieldMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (808)) COMMA_SOURCE_FILE_AT_LINE (808)) ;
          var_cas_variableValue.mMapListValue.addAssign_operation (var_cas_fieldMap) ;
          var_cas_ioTemplateVariableMap.modifier_setMTypeForKey (inLexique, var_cas_variableType, var_cas_variableName.reader_string (inLexique COMMA_SOURCE_FILE_AT_LINE (810)) COMMA_SOURCE_FILE_AT_LINE (810)) ;
          var_cas_ioTemplateVariableMap.modifier_setMValueForKey (inLexique, var_cas_variableValue, var_cas_variableName.reader_string (inLexique COMMA_SOURCE_FILE_AT_LINE (811)) COMMA_SOURCE_FILE_AT_LINE (811)) ;
        }
      }
      } break ;
    default :
      break ;
  }
}

//---------------------------------------------------------------------------*

void template_parser::rule_template_5F_parser_template_5F_instruction_i10_parse (C_Lexique_template_5F_scanner & inLexique) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_let) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_identifier) COMMA_HERE) ;
  switch (select_template_5F_parser_17 (inLexique)) {
    case 1 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken__3A__3D_) COMMA_HERE) ;
      nt_expression_parse (inLexique) ;
      } break ;
    case 2 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken__2B__3D_) COMMA_HERE) ;
      nt_expression_parse (inLexique) ;
      } break ;
    default :
      break ;
  }
  GGS_lstring::constructor_retrieveAndResetTemplateString (inLexique COMMA_HERE) ;
}

//---------------------------------------------------------------------------*
//                                                                           *
//           Implementation of production rule 'variable_or_here'            *
//                                                                           *
//---------------------------------------------------------------------------*

void template_parser::rule_template_5F_parser_variable_5F_or_5F_here_i11_ (C_Lexique_template_5F_scanner & inLexique,
                                const GGS_goilTemplateVariableMap  var_cas_inTemplateVariableMap,
                                GGS_location  &var_cas_outWhere) {
  switch (select_template_5F_parser_18 (inLexique)) {
    case 1 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_here) COMMA_HERE) ;
      var_cas_outWhere = GGS_location (inLexique) ;
      } break ;
    case 2 : {
      GGS_lstring  var_cas_variableName ;
      inLexique.assignFromAttribute_tokenString (var_cas_variableName) ;
      inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_identifier) COMMA_HERE) ;
      var_cas_outWhere = var_cas_inTemplateVariableMap.reader_locationForKey (inLexique, var_cas_variableName.reader_string (inLexique COMMA_SOURCE_FILE_AT_LINE (828)) COMMA_SOURCE_FILE_AT_LINE (828)) ;
      } break ;
    default :
      break ;
  }
}

//---------------------------------------------------------------------------*

void template_parser::rule_template_5F_parser_variable_5F_or_5F_here_i11_parse (C_Lexique_template_5F_scanner & inLexique) {
  switch (select_template_5F_parser_18 (inLexique)) {
    case 1 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_here) COMMA_HERE) ;
      } break ;
    case 2 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_identifier) COMMA_HERE) ;
      } break ;
    default :
      break ;
  }
  GGS_lstring::constructor_retrieveAndResetTemplateString (inLexique COMMA_HERE) ;
}

//---------------------------------------------------------------------------*
//                                                                           *
//         Implementation of production rule 'template_instruction'          *
//                                                                           *
//---------------------------------------------------------------------------*

void template_parser::rule_template_5F_parser_template_5F_instruction_i12_ (C_Lexique_template_5F_scanner & inLexique,
                                const GGS_string var_cas_inPrefix,
                                const GGS_string var_cas_inPath,
                                const GGS_string var_cas_inTemplateDirectory,
                                GGS_goilTemplateVariableMap  &var_cas_ioTemplateVariableMap,
                                GGS_string &/* var_cas_ioResultingString */) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_error) COMMA_HERE) ;
  GGS_location  var_cas_where ;
  nt_variable_5F_or_5F_here_ (inLexique, var_cas_ioTemplateVariableMap, var_cas_where) ;
  GGS_goilTemplateValue var_cas_enumeratedValue ;
  GGS_goilTemplateType var_cas_expressionType ;
  nt_expression_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_ioTemplateVariableMap, var_cas_enumeratedValue, var_cas_expressionType) ;
  const GGS_bool cond_24157 = (var_cas_expressionType).operator_isNotEqual (GGS_goilTemplateType::constructor_stringType (inLexique COMMA_SOURCE_FILE_AT_LINE (854))) ;
  if (cond_24157.isBuiltAndTrue ()) {
    GGS_location (inLexique).reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, GGS_string ("error message should by a string expression") COMMA_SOURCE_FILE_AT_LINE (856)) ;
  }else if (cond_24157.isBuiltAndFalse ()) {
    var_cas_where.reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, var_cas_enumeratedValue.reader_mStringValue (inLexique COMMA_SOURCE_FILE_AT_LINE (857)) COMMA_SOURCE_FILE_AT_LINE (858)) ;
  }
}

//---------------------------------------------------------------------------*

void template_parser::rule_template_5F_parser_template_5F_instruction_i12_parse (C_Lexique_template_5F_scanner & inLexique) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_error) COMMA_HERE) ;
  nt_variable_5F_or_5F_here_parse (inLexique) ;
  nt_expression_parse (inLexique) ;
  GGS_lstring::constructor_retrieveAndResetTemplateString (inLexique COMMA_HERE) ;
}

//---------------------------------------------------------------------------*
//                                                                           *
//         Implementation of production rule 'template_instruction'          *
//                                                                           *
//---------------------------------------------------------------------------*

void template_parser::rule_template_5F_parser_template_5F_instruction_i13_ (C_Lexique_template_5F_scanner & inLexique,
                                const GGS_string var_cas_inPrefix,
                                const GGS_string var_cas_inPath,
                                const GGS_string var_cas_inTemplateDirectory,
                                GGS_goilTemplateVariableMap  &var_cas_ioTemplateVariableMap,
                                GGS_string &/* var_cas_ioResultingString */) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_warning) COMMA_HERE) ;
  GGS_location  var_cas_where ;
  nt_variable_5F_or_5F_here_ (inLexique, var_cas_ioTemplateVariableMap, var_cas_where) ;
  GGS_goilTemplateValue var_cas_enumeratedValue ;
  GGS_goilTemplateType var_cas_expressionType ;
  nt_expression_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_ioTemplateVariableMap, var_cas_enumeratedValue, var_cas_expressionType) ;
  const GGS_bool cond_24921 = (var_cas_expressionType).operator_isNotEqual (GGS_goilTemplateType::constructor_stringType (inLexique COMMA_SOURCE_FILE_AT_LINE (883))) ;
  if (cond_24921.isBuiltAndTrue ()) {
    GGS_location (inLexique).reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, GGS_string ("error message should by a string expression") COMMA_SOURCE_FILE_AT_LINE (885)) ;
  }else if (cond_24921.isBuiltAndFalse ()) {
    var_cas_where.reader_location (inLexique COMMA_HERE).signalGGSSemanticWarning (inLexique, var_cas_enumeratedValue.reader_mStringValue (inLexique COMMA_SOURCE_FILE_AT_LINE (886)) COMMA_SOURCE_FILE_AT_LINE (886)) ;
  }
}

//---------------------------------------------------------------------------*

void template_parser::rule_template_5F_parser_template_5F_instruction_i13_parse (C_Lexique_template_5F_scanner & inLexique) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (C_Lexique_template_5F_scanner::kToken_warning) COMMA_HERE) ;
  nt_variable_5F_or_5F_here_parse (inLexique) ;
  nt_expression_parse (inLexique) ;
  GGS_lstring::constructor_retrieveAndResetTemplateString (inLexique COMMA_HERE) ;
}

//---------------------------------------------------------------------------*

